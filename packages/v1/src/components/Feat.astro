---
import { datascriptQuery } from "@/lib/log";
import { Markdown as M } from "@viole.in/md/component";

const { id } = Astro.props;
const pl = [
	`[:find (pull ?b [*])
  :where [?b :block/parent ${id}]
]
`,
];

const v = await datascriptQuery(pl);

const content = v.flat(Infinity).map((e) => e.content);
---

<ul>
	{content.map((el) => <M content={el} as="li" />)}
</ul>
