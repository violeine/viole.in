---
title: octokit
url: si.nk/octokit
layout : "@/layouts/Blog.astro"
---
import GithubContent from '@/octokit/content.astro'
import { parse } from '@/octokit/fetch.js'
import {Code} from 'astro/components'

export const data = 
`https://github.com/violeine/viole.in/blob/main/src/components/count.jsx#L1-L10`

### share code snippet with github

- first fetch the content with `raw.githubusercontent`

- use `Array.prototype.splice()` to get the range out

```js
	const contentRange = content.split("\n").splice(start-1, end+1)
```

- ended up with this

<GithubContent link={data} />

- parse the link

				example:

						{data}

				schema:

				`https://github.com/${owner}/${repo}/blob/${tree}/${route}`

				raw.githubcontent:

				`https://raw.githubusercontent.com/violeine/viole.in/main/src/pages/po.rt.astro`

				schema: 

				`https://raw.githubusercontent.com/${owner}/${repo}/${route}`

- parse result:

<Code code={JSON.stringify(parse(data), null, 2)} lang="json" />
